<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Task: Initialize Project Context File — btw_task_create_btw_md • btw</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Task: Initialize Project Context File — btw_task_create_btw_md"><meta name="description" content="Create a comprehensive context btw.md or AGENTS.md file for your project.
If launched in app or console mode, this task will start an interactive chat
session to guide you through the process of creating a context file.
This task focuses on documenting project context for developers and agents.
See btw_client() for additional details about the format and usage of the
btw.md context file, including choosing the default LLM provider and model
or the default set of tools to use with btw_client()."><meta property="og:description" content="Create a comprehensive context btw.md or AGENTS.md file for your project.
If launched in app or console mode, this task will start an interactive chat
session to guide you through the process of creating a context file.
This task focuses on documenting project context for developers and agents.
See btw_client() for additional details about the format and usage of the
btw.md context file, including choosing the default LLM provider and model
or the default set of tools to use with btw_client()."><meta property="og:image" content="https://posit-dev.github.io/btw/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">btw</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.6.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/posit-dev/btw/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Task: Initialize Project Context File</h1>
      <small class="dont-index">Source: <a href="https://github.com/posit-dev/btw/blob/main/R/task_create_btw_md.R" class="external-link"><code>R/task_create_btw_md.R</code></a></small>
      <div class="d-none name"><code>btw_task_create_btw_md.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Create a comprehensive context <code>btw.md</code> or <code>AGENTS.md</code> file for your project.
If launched in app or console mode, this task will start an interactive chat
session to guide you through the process of creating a context file.</p>
<p>This task focuses on documenting project context for developers and agents.
See <code><a href="btw_client.html">btw_client()</a></code> for additional details about the format and usage of the
<code>btw.md</code> context file, including choosing the default LLM provider and model
or the default set of tools to use with <code><a href="btw_client.html">btw_client()</a></code>.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">btw_task_create_btw_md</span><span class="op">(</span></span>
<span>  <span class="va">...</span>,</span>
<span>  path <span class="op">=</span> <span class="st">"btw.md"</span>,</span>
<span>  client <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  mode <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"app"</span>, <span class="st">"console"</span>, <span class="st">"client"</span>, <span class="st">"tool"</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Additional context to provide to the AI. This can be any text or
R objects that can be converted to text using <code><a href="btw.html">btw()</a></code>.</p></dd>


<dt id="arg-path">path<a class="anchor" aria-label="anchor" href="#arg-path"></a></dt>
<dd><p>The path to the context file to create. Defaults to <code>btw.md</code>.</p></dd>


<dt id="arg-client">client<a class="anchor" aria-label="anchor" href="#arg-client"></a></dt>
<dd><p>An <a href="https://ellmer.tidyverse.org/reference/Chat.html" class="external-link">ellmer::Chat</a> client or a <code>provider/model</code> string to be
passed to <code><a href="https://ellmer.tidyverse.org/reference/chat-any.html" class="external-link">ellmer::chat()</a></code> to create a chat client. Defaults to
<code><a href="https://ellmer.tidyverse.org/reference/chat_anthropic.html" class="external-link">ellmer::chat_anthropic()</a></code>. You can use the <code>btw.client</code> option to set a
default client for new <code><a href="btw_client.html">btw_client()</a></code> calls, or use a <code>btw.md</code> project file
for default chat client settings, like provider and model. We check the
<code>client</code> argument, then the <code>btw.client</code> R option, and finally the <code>btw.md</code>
project file (falling back to user-level <code>btw.md</code> if needed), using only the
client definition from the first of these that is available.</p></dd>


<dt id="arg-mode">mode<a class="anchor" aria-label="anchor" href="#arg-mode"></a></dt>
<dd><p>The mode to run the task in, which affects what is returned from
this function. <code>"app"</code> and <code>"console"</code> modes launch interactive sessions,
while <code>"client"</code> and <code>"tool"</code> modes return objects for programmatic use.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>When <code>mode</code> is <code>"app"</code> or <code>"console"</code>, this function launches an
interactive session in the browser or the R console, respectively. The
ellmer chat object with the conversation history is returned invisibly
when the session ends.</p>
<p>When <code>mode</code> is <code>"client"</code>, this function returns the configured ellmer
chat client object. When <code>mode</code> is <code>"tool"</code>, this function returns an
ellmer tool object that can be used in other chat instances.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p>Other task and agent functions:
<code><a href="btw_task_create_readme.html">btw_task_create_readme</a>()</code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu">withr</span><span class="fu">::</span><span class="fu"><a href="https://withr.r-lib.org/reference/with_envvar.html" class="external-link">with_envvar</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>ANTHROPIC_API_KEY <span class="op">=</span> <span class="st">"example"</span><span class="op">)</span>, <span class="op">{</span></span></span>
<span class="r-in"><span>  <span class="fu">btw_task_create_btw_md</span><span class="op">(</span>mode <span class="op">=</span> <span class="st">"tool"</span>, client <span class="op">=</span> <span class="st">"anthropic"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> Using <span style="color: #00BB00;">model</span> = <span style="color: #0000BB;">"claude-sonnet-4-20250514"</span>.</span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>file("") only supports open = "w+" and open = "w+b": using the former</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # &lt;ellmer::ToolDef&gt; btw_task_create_btw_md(prompt, path)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # @name: btw_task_create_btw_md</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # @description: Create a comprehensive context file for your project.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> # @convert: TRUE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> function (prompt, path = NULL) </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     sys_prompt &lt;- ellmer::interpolate(this_client$get_system_prompt(), </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         path_summary_file = path %||% path_default)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     sys_prompt &lt;- paste0(sys_prompt, "\n\n---\n\n", "YOU ARE NOW OPERATING IN TOOL MODE. ", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "The user cannot respond directly to you. ", "Because you cannot talk to the user, you will need to make your own decisions using the information available to you and the best of your abilities. ", </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         "You may do additional file exploration if needed.")</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     this_client &lt;- client$clone()</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     this_client$set_system_prompt(sys_prompt)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     this_client$chat(prompt)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;bytecode: 0x55e0f44bf460&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;environment: 0x55e0f44be040&gt;</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>, <a href="https://www.simonpcouch.com/" class="external-link">Simon Couch</a>, Joe Cheng, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

