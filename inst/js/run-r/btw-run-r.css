/**
 * Styles for btw-run-r-result custom element
 */

btw-run-r-result {
  --shiny-tool-card-max-height: auto;
  display: block;
  margin-bottom: var(--bslib-spacer, 1em);
}

/* Remove horizontal padding from card body for full-width code */
btw-run-r-result .card-body {
  padding: 0;
  gap: 0;
}

/* Output container with visual treatment */

/* Code output blocks */
.btw-run-output pre {
  margin: 0.25rem 0;
  padding: 0.5rem;
  background-color: var(--bs-light, #f8f9fa);
  border-radius: 0.25rem;
  overflow-x: auto;
}

.btw-run-output .code-copy-button {
  /* TODO: Figure out how to disable markdown-stream code copy button */
  display: none;
}

.btw-run-output pre code {
  font-family: var(--bs-font-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace);
  font-size: 0.875em;
  white-space: pre-wrap;
  word-break: break-word;
  padding: 0;
}

.btw-run-output pre {
  margin-block: 0;
  border-radius: 0;
  border: none;
  border-left: 3px solid var(--bs-secondary-border-subtle, #b3b3b3);
}

/* Message output (blue left border) */
.btw-run-output pre.btw-output-message {
  border-left: 3px solid var(--bs-info, #0dcaf0);
  background-color: rgba(13, 202, 240, 0.1);
}

/* Warning output (yellow/orange left border) */
.btw-run-output pre.btw-output-warning {
  border-left: 3px solid var(--bs-warning, #ffc107);
  background-color: rgba(255, 193, 7, 0.1);
}

/* Error output (red left border) */
.btw-run-output pre.btw-output-error {
  border-left: 3px solid var(--bs-danger, #dc3545);
  background-color: rgba(220, 53, 69, 0.1);
}

/* Images in output */
.btw-run-output img {
  max-width: 100%;
  height: auto;
  margin: 0.5rem 0;
  border-radius: 0.25rem;
}

/* Code section styling */
.btw-run-code {
  max-height: var(--btw-run-code-source-max-height, 300px);
  overflow: auto;

  pre {
    border: none;
    border-radius: 0;

    &, code {
      background-color: var(--bs-body-bg, white) !important;
    }
  }
}
