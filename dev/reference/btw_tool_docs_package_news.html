<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Tool: Package Release Notes — btw_tool_docs_package_news • btw</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../lightswitch.js"></script><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Tool: Package Release Notes — btw_tool_docs_package_news"><meta name="description" content="Include release notes for a package, either the release notes for the most
recent package release or release notes matching a search term."><meta property="og:description" content="Include release notes for a package, either the release notes for the most
recent package release or release notes matching a search term."><meta property="og:image" content="https://posit-dev.github.io/btw/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top " aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">btw</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">1.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/posit-dev/btw/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-lightswitch" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true" aria-label="Light switch"><span class="fa fa-sun"></span></button>
  <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="dropdown-lightswitch"><li><button class="dropdown-item" data-bs-theme-value="light"><span class="fa fa-sun"></span> Light</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="dark"><span class="fa fa-moon"></span> Dark</button></li>
    <li><button class="dropdown-item" data-bs-theme-value="auto"><span class="fa fa-adjust"></span> Auto</button></li>
  </ul></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Tool: Package Release Notes</h1>
      <small class="dont-index">Source: <a href="https://github.com/posit-dev/btw/blob/main/R/tool-docs-news.R" class="external-link"><code>R/tool-docs-news.R</code></a></small>
      <div class="d-none name"><code>btw_tool_docs_package_news.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Include release notes for a package, either the release notes for the most
recent package release or release notes matching a search term.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">btw_tool_docs_package_news</span><span class="op">(</span><span class="va">package_name</span>, search_term <span class="op">=</span> <span class="st">""</span>, `_intent` <span class="op">=</span> <span class="st">""</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-package-name">package_name<a class="anchor" aria-label="anchor" href="#arg-package-name"></a></dt>
<dd><p>The name of the package as a string, e.g. <code>"shiny"</code>.</p></dd>


<dt id="arg-search-term">search_term<a class="anchor" aria-label="anchor" href="#arg-search-term"></a></dt>
<dd><p>A regular expression to search for in the NEWS entries.
If empty, the release notes of the current installed version is included.</p></dd>


<dt id="arg--intent">_intent<a class="anchor" aria-label="anchor" href="#arg--intent"></a></dt>
<dd><p>An optional string describing the intent of the tool use.
When the tool is used by an LLM, the model will use this argument to
explain why it called the tool.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Returns the release notes for the currently installed version of the
package, or the release notes matching the search term.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="btw_tools.html">btw_tools()</a></code></p>
<p>Other docs tools:
<code><a href="btw_tool_package_docs.html">btw_tool_package_docs</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Copy release notes to the clipboard for use in any AI app</span></span></span>
<span class="r-in"><span><span class="fu"><a href="btw.html">btw</a></span><span class="op">(</span><span class="st">"@news dplyr"</span>, clipboard <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Context</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### dplyr v1.2.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #### New features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - New `filter_out()` companion to `filter()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use `filter()` when specifying rows to *keep*.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use `filter_out()` when specifying rows to *drop*.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `filter_out()` simplifies cases where you would have previously used a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `filter()` to drop rows. It is particularly useful when missing values</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   are involved. For example, to drop rows where the `count` is zero:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ``` r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   df |&gt; filter(count != 0 | is.na(count))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   df |&gt; filter_out(count == 0)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   With `filter()`, you must provide a \"negative\" condition of `!= 0`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   and must explicitly guard against accidentally dropping rows with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `NA`. With `filter_out()`, you directly specify rows to drop and you</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   don\'t have to guard against dropping rows with `NA`, which tends to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   result in much clearer code.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   This work is a result of [Tidyup 8: Expanding the `filter()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   family](https://github.com/tidyverse/tidyups/pull/30), with a lot of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   great feedback from the community (#6560, #6891).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - New `when_any()` and `when_all()`, which are elementwise versions of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `any()` and `all()`. Alternatively, you can think of them as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   performing repeated `|` and `&amp;` on any number of inputs, for example:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `when_any(x, y, z)` is equivalent to `x | y | z`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `when_all(x, y, z)` is equivalent to `x &amp; y &amp; z`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `when_any()` is particularly useful within `filter()` and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `filter_out()` to specify comma separated conditions combined with `|`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rather than `&amp;`, like:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ``` r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # With `|`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   countries |&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     filter(</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       (name %in% c("US", "CA") &amp; between(score, 200, 300)) |</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         (name %in% c("PR", "RU") &amp; between(score, 100, 200))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     )</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # With `when_any()`, you drop the explicit `|`, the extra `()`, and your</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # conditions are all indented to the same level</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   countries |&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     filter(when_any(</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       name %in% c("US", "CA") &amp; between(score, 200, 300),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       name %in% c("PR", "RU") &amp; between(score, 100, 200)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # To drop these rows instead, use `filter_out()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   countries |&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     filter_out(when_any(</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       name %in% c("US", "CA") &amp; between(score, 200, 300),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>       name %in% c("PR", "RU") &amp; between(score, 100, 200)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     ))</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   This work is a result of [Tidyup 8: Expanding the `filter()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   family](https://github.com/tidyverse/tidyups/pull/30).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `case_when()` is now part of a family of 4 related functions, 3 of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   which are new:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use `case_when()` to create a new vector based on logical</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     conditions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use `replace_when()` to update an existing vector based on logical</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     conditions.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use `recode_values()` to create a new vector by mapping all old</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     values to new values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Use `replace_values()` to update an existing vector by mapping some</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     old values to new values.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Learn all about these in a new vignette,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `vignette("recoding-replacing")`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `replace_when()` is particularly useful for conditionally mutating</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rows within one or more columns, and can be thought of as an enhanced</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   version of `base::replace()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `recode_values()` and `replace_values()` have the familiar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `case_when()`-style formula interface for easy interactive use, but</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   also have `from` and `to` arguments as a way for you to incorporate a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   pre-built lookup table, making them more holistic replacements for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   both `case_match()` and `recode()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   This work is a result of [Tidyup 7: Recoding and replacing values in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   tidyverse](https://github.com/tidyverse/tidyups/blob/main/007-tidyverse-recoding-and-replacing.md),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   with a lot of great</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [feedback](https://github.com/tidyverse/tidyups/pull/29) from the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   community (#7728, #7729).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `case_when()` has gained a new `.unmatched` argument. For extra</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   safety, set `.unmatched = "error"` rather than providing a `.default`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   when you believe that you\'ve handled every possible case, and it will</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   error if a case is left unhandled. The new `recode_values()` also has</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   this argument (#7653).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `if_else()`, `case_when()`, and `coalesce()` have gotten significantly</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   faster and use much less memory due to a rewrite in C via vctrs</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (#7723, #7725, #7727).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - New `ptype` argument for `between()`, allowing users to specify the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   desired output type. This is particularly useful for ordered factors</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   and other complex types where the default common type behavior might</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   not be ideal (#6906, \@JamesHWade).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - New `rbind()` method for `rowwise_df` to avoid creating corrupt</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rowwise data frames (r-lib/vctrs#1935).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #### Lifecycle changes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Newly stable</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `.by` has moved from experimental to stable (#7762).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `reframe()` has moved from experimental to stable (#7713,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \@VisruthSK).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Newly breaking</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `if_else()` no longer allows `condition` to be a logical array. It</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   must be a logical vector with no `dim` attribute (#7723).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Newly deprecated</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `case_match()` is soft-deprecated, and is fully replaced by</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `recode_values()` and `replace_values()`, which are more flexible,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   more powerful, and have much better names.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - In `case_when()`, supplying all size 1 LHS inputs along with a size</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \&gt;1 RHS input is now soft-deprecated. This is an improper usage of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `case_when()` that should instead be a series of if statements, like:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ``` r</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # Scalars!</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   code &lt;- 1L</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   flavor &lt;- "vanilla"</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # Improper usage:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   case_when(</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     code == 1L &amp;&amp; flavor == "chocolate" ~ x,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     code == 1L &amp;&amp; flavor == "vanilla" ~ y,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     code == 2L &amp;&amp; flavor == "vanilla" ~ z,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     .default = default</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   )</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   # Recommended:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   if (code == 1L &amp;&amp; flavor == "chocolate") {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     x</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   } else if (code == 1L &amp;&amp; flavor == "vanilla") {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     y</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   } else if (code == 2L &amp;&amp; flavor == "vanilla") {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     z</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   } else {</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     default</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   }</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ```</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   The recycling behavior that allows this style of `case_when()` to work</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   is unsafe, and can result in silent bugs that we\'d like to guard</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   against with an error in the future (#7082).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The `dplyr.legacy_locale` global option is soft-deprecated. If you</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   used this to affect the ordering of `arrange()`, use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `arrange(.locale =)` instead. If you used this to affect the ordering</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   of `group_by() |&gt; summarise()`, follow up with an additional call to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `arrange(.locale =)` instead (#7760).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Passing `size` to `if_else()` is now deprecated. The output size is</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   always taken from the `condition` (#7722).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Other deprecation advancements</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The following were already deprecated, and are now defunct and throw</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   an error:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - All underscored standard evaluation versions of major dplyr verbs.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Deprecated in 0.7.0 (Jun 2017), use the non-underscored version of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     the verb with unquoting instead, see `vignette("programming")`. This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     includes:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `add_count_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `add_tally_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `arrange_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `count_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `distinct_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `do_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `filter_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `funs_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `group_by_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `group_indices_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `mutate_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `tally_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `transmute_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `rename_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `select_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `slice_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `summarise_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     - `summarize_()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `mutate_each()`, `mutate_each_()`, `summarise_each()`, and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `summarise_each_()`. Deprecated in 0.7.0 (Jun 2017), use `across()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Returning more or less than 1 row per group in `summarise()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Deprecated in 1.1.0 (Jan 2023), use `reframe()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `combine()`. Deprecated in 1.0.0 (May 2020), use `c()` or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `vctrs::vec_c()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `src_mysql()`, `src_postgres()`, `src_sqlite()`, `src_local()`, and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `src_df()`. Deprecated in 1.0.0 (May 2020), use `tbl()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `tbl_df()` and `as.tbl()`. Deprecated in 1.0.0 (May 2020), use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `tibble::as_tibble()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `add_rownames()`. Deprecated in 1.0.0 (May 2020), use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `tibble::rownames_to_column()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `.drop` argument of `add_count()`. Deprecated in 1.0.0 (May</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2020), had no effect.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `add` argument of `group_by()` and `group_by_prepare()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Deprecated in 1.0.0 (May 2020), use `.add` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `.dots` argument of `group_by()` and `group_by_prepare()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Deprecated in 1.0.0 (May 2020).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `...` argument of `group_keys()` and `group_indices()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     Deprecated in 1.0.0 (May 2020), use `group_by()` first.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `keep` argument of `group_map()`, `group_modify()`, and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `group_split()`. Deprecated in 1.0.0 (May 2020), use `.keep`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Using `across()` and data frames in `filter()`. Deprecated in 1.0.8</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     (Feb 2022), use `if_any()` or `if_all()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `multiple = NULL` in joins. Deprecated in 1.1.1 (Mar 2023), use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `multiple = "all"` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `multiple = "error" / "warning"` in joins. Deprecated in 1.1.1 (Mar</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2023), use `relationship = "many-to-one"` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `vars` argument of `group_cols()`. Deprecated in 1.0.0 (Jan</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     2023).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The following were already deprecated, and now warn unconditionally if</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   used:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `all_equal()`. Deprecated in 1.1.0 (Jan 2023), use `all.equal()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `progress_estimated()`. Deprecated in 1.0.0 (May 2020).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `filter()` with a 1 column matrix. Deprecated in 1.1.0 (Jan 2023),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     use a vector instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `slice()` with a 1 column matrix. Deprecated in 1.1.0 (Jan 2023),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     use a vector instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Not supplying the `.cols` argument of `across()`. Deprecated in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1.1.0 (Jan 2023).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `group_indices()` with no arguments. Deprecated in 1.0.0 (May 2020),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     use `cur_group_id()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The following were already soft-deprecated, and now warn once per</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   session if used:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - `cur_data()` and `cur_data_all()`. Deprecated in 1.1.0 (Jan 2023),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     use `pick()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The `...` argument of `across()`. Deprecated in 1.1.0 (Jan 2023),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     use an anonymous function instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Using `by = character()` to perform a cross join. Deprecated in</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     1.1.0 (Jan 2023), use `cross_join()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### Removed</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The following were already defunct, and have been removed:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `id()`. Deprecated in 0.5.0 (Jun 2016), use `vctrs::vec_group_id()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   instead. If your package uses NSE and implicitly relied on the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   variable `id` being available, you now need to put</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `utils::globalVariables("id")` inside one of your package files to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   tell R that `id` is a column name.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `failwith()`. Deprecated in 0.7.0 (Jun 2017), use `purrr::possibly()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `select_vars()` and `select_vars_()`. Deprecated in 0.8.4 (Jan 2020),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   use `tidyselect::vars_select()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `rename_vars()` and `rename_vars_()`. Deprecated in 0.8.4 (Jan 2020),</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   use `tidyselect::vars_rename()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `select_var()`. Deprecated in 0.8.4 (Jan 2020), use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `tidyselect::vars_pull()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `current_vars()`. Deprecated in 0.8.4 (Jan 2020), use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `tidyselect::peek_vars()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `bench_tbls()`, `compare_tbls()`, `compare_tbls2()`, `eval_tbls()`,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   and `eval_tbls2()`. Deprecated in 1.0.0 (May 2020).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `location()` and `changes()`. Deprecated in 1.0.0 (May 2020), use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `lobstr::ref()` instead.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #### Minor improvements and bug fixes</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The base pipe is now used throughout the documentation (#7711).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The superseded `recode()` now has updated documentation showing how to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   migrate to `recode_values()` and `replace_values()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - The `.groups` message emitted by `summarise()` is hopefully more clear</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   now (#6986).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `storms` has been updated to include 2023 and 2024 data (#7111,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \@tomalrussell).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `if_any()` and `if_all()` are now more consistent in all use cases</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (#7059, #7077, #7746, \@jrwinget). In particular:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - When called with zero inputs, `if_any()` returns `FALSE` and</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `if_all()` returns `TRUE`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - When called with one input, both now return logical vectors rather</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     than the original column.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - The result of applying `.fns` now must be a logical vector.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `tally_n()` creates fully qualified funciton calls for duckplyr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   compatibility (#7046)</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Empty `rowwise()` list-column elements now resolve to `logical()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   rather than a random logical of length 1 (#7710).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `last_dplyr_warnings()` no longer prevents objects from being garbage</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   collected (#7649).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `case_when()` now throws correctly indexed errors when `NULL`s are</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   supplied in `...` (#7739).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `case_when()` now throws a better error if one of the conditions is an</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   array (#6862, \@ilovemane).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `bind_rows()` now replaces empty (or `NA`) element names in a list</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   with its numeric index while preserving existing names (#7719,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   \@Meghansaha).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - New `slice_sample()` example showing how to use it to shuffle rows</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (#7707, \@Hzanib).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Updated `across()` examples to include an example using `everything()`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (#7621, \@JBrandenburg02).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Clarified how `slice_min()` and `slice_max()` work in the introduction</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   vignette (#7717, \@ccani007).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Fixed an edge case when coercing data frames to matrices (#7004).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Fixed an issue where duckplyr\'s ALTREP data frames were being</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   materialized early due to internal usage of `ncol()` (#7049).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Progress towards making dplyr conformant with the public C API of R</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   (#7741, #7797).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - R \&gt;=4.1.0 is now required, in line with the [tidyverse</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   standard](https://tidyverse.org/blog/2019/04/r-version-support/) of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   supporting the previous 5 minor releases of R (#7711).</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="btw.html">btw</a></span><span class="op">(</span><span class="st">"@news dplyr join_by"</span>, clipboard <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ## Context</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### dplyr v1.1.4</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `join_by()` now allows its helper functions to be namespaced with</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> `dplyr::`, like `join_by(dplyr::between(x, lower, upper))` (#6838).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> ### dplyr v1.1.0</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #### New features</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Joins have been completely overhauled to enable more flexible join</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> operations and provide more tools for quality control. Many of these</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> changes are inspired by data.table\'s join syntax (#5914, #5661, #5413,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> #2240).</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - A *join specification* can now be created through `join_by()`. This</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   allows you to specify both the left and right hand side of a join</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   using unquoted column names, such as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `join_by(sale_date == commercial_date)`. Join specifications can be</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   supplied to any `*_join()` function as the `by` argument.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - Join specifications allow for new types of joins:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Equality joins: The most common join, specified by `==`. For</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     example, `join_by(sale_date == commercial_date)`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Inequality joins: For joining on inequalities, i.e.`&gt;=`, `&gt;`, `&lt;`,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     and `&lt;=`. For example, use `join_by(sale_date &gt;= commercial_date)`</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     to find every commercial that aired before a particular sale.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Rolling joins: For \"rolling\" the closest match forward or</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     backwards when there isn\'t an exact match, specified by using the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     rolling helper, `closest()`. For example,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `join_by(closest(sale_date &gt;= commercial_date))` to find only the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     most recent commercial that aired before a particular sale.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   - Overlap joins: For detecting overlaps between sets of columns,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     specified by using one of the overlap helpers: `between()`,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `within()`, or `overlaps()`. For example, use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     `join_by(between(commercial_date, sale_date_lower, sale_date))` to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     find commercials that aired before a particular sale, as long as</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     they occurred after some lower bound, such as 40 days before the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>     sale was made.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   Note that you cannot use arbitrary expressions in the join conditions,</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   like `join_by(sale_date - 40 &gt;= commercial_date)`. Instead, use</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `mutate()` to create a new column containing the result of</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `sale_date - 40` and refer to that by name in `join_by()`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `multiple` is a new argument for controlling what happens when a row</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   in `x` matches multiple rows in `y`. For equality joins and rolling</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   joins, where this is usually surprising, this defaults to signalling a</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `"warning"`, but still returns all of the matches. For inequality</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   joins, where multiple matches are usually expected, this defaults to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   returning `"all"` of the matches. You can also return only the</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `"first"` or `"last"` match, `"any"` of the matches, or you can</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `"error"`.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `keep` now defaults to `NULL` rather than `FALSE`. `NULL` implies</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `keep = FALSE` for equality conditions, but `keep = TRUE` for</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   inequality conditions, since you generally want to preserve both sides</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   of an inequality join.</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> - `unmatched` is a new argument for controlling what happens when a row</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   would be dropped because it doesn\'t have a match. For backwards</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   compatibility, the default is `"drop"`, but you can also choose to</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   `"error"` if dropped rows would be surprising.</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span> <span class="co"># can be slow</span></span></span>
<span class="r-in"><span>  <span class="kw">if</span> <span class="op">(</span><span class="va">R.version</span><span class="op">$</span><span class="va">major</span> <span class="op">==</span> <span class="fl">4</span> <span class="op">&amp;&amp;</span> <span class="va">R.version</span><span class="op">$</span><span class="va">minor</span> <span class="op">&gt;</span> <span class="st">"2.0"</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="co"># Search through R's release notes.</span></span></span>
<span class="r-in"><span>    <span class="co"># This should find a NEWS entry from R 4.2</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="btw.html">btw</a></span><span class="op">(</span><span class="st">"@news R dynamic rd content"</span>, clipboard <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">}</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Tool use by LLMs via ellmer or MCP ----</span></span></span>
<span class="r-in"><span><span class="fu">btw_tool_docs_package_news</span><span class="op">(</span><span class="st">"dplyr"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;btw::BtwPackageNewsToolResult&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ value  : chr "### dplyr v1.2.0\n\n#### New features\n\n- New `filter_out()` companion to `filter()`.\n\n  - Use `filter()` wh"| __truncated__</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ error  : NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ extra  :List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  .. $ display:List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ..  ..$ markdown: chr "### dplyr v1.2.0\n\n#### New features\n\n- New `filter_out()` companion to `filter()`.\n\n  - Use `filter()` wh"| __truncated__</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ request: NULL</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">btw_tool_docs_package_news</span><span class="op">(</span><span class="st">"dplyr"</span>, <span class="st">"join_by"</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> &lt;btw::BtwPackageNewsToolResult&gt;</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ value  : chr "### dplyr v1.1.4\n\n`join_by()` now allows its helper functions to be namespaced with\n`dplyr::`, like `join_by"| __truncated__</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ error  : NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ extra  :List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  .. $ display:List of 1</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  ..  ..$ markdown: chr "### dplyr v1.1.4\n\n`join_by()` now allows its helper functions to be namespaced with\n`dplyr::`, like `join_by"| __truncated__</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  @ request: NULL</span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://garrickadenbuie.com" class="external-link">Garrick Aden-Buie</a>, <a href="https://www.simonpcouch.com/" class="external-link">Simon Couch</a>, Joe Cheng, Posit Software, PBC.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

